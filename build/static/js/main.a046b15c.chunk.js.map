{"version":3,"sources":["components/Name.js","components/Form.js","services/persons.js","App.js","index.js"],"names":["Name","persons","deleteContact","className","name","number","onClick","Form","addContact","newName","newPhone","handleNameChange","handlePhoneChange","onSubmit","value","onChange","type","baseUrl","personsServices","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","App","props","event","state","some","item","phone","alert","preventDefault","contactObject","setState","concat","target","deleteContactOf","contact","find","filter","this","map","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a046b15c.chunk.js","sourcesContent":["import React from 'react'\nimport './name.css'\n\nconst Name = ({ persons, deleteContact }) => {\n    return (\n    <li className='ot'>\n        {persons.name} {persons.number}   <button onClick={deleteContact}>delete</button>\n    </li>)\n}\n\n\nexport default Name","import React from \"react\";\n\nconst Form = ({addContact, newName, newPhone, handleNameChange, handlePhoneChange}) => {\n    return (\n        <form onSubmit={addContact}>\n            <div>\n                name: \n                <input\n                    value={newName}\n                    onChange={handleNameChange}\n                />\n            </div>\n            <div>\n                phone number: \n                <input \n                    value={newPhone}\n                    onChange={handlePhoneChange}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    return axios.post(baseUrl, newObject);\n}\n\nconst remove = (id, newObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n// const update = (id, newObject) => {\n//     const request = axios.put(`${baseUrl}/${id}`, newObject)\n//     return request.then(response => response.data)\n// }\n\nconst personsServices = { getAll, create, remove }\n\nexport default personsServices","import React from 'react';\nimport Name from './components/Name';\nimport Form from './components/Form';\nimport personsServices from './services/persons';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '...',\n      newPhone: '...'\n    }\n  }\n\n  componentDidMount() {\n    personsServices\n      .getAll()\n      .then(response => {\n        this.setState({persons: response.data})\n      });\n  }\n\n  addContact = (event) => {\n    if (\n      this.state.persons.some((item) => item.name === this.state.newName) ||\n      this.state.persons.some((item) => item.phone === this.state.newPhone)\n      ) {\n      alert (\"Attention! This name is already in the phonebook!\")\n    } else {\n      event.preventDefault()\n      const contactObject = {\n        name: this.state.newName,\n        phone: this.state.newPhone\n      }\n\n      personsServices\n        .create(contactObject)\n        .then(response => {\n          this.setState({\n            persons: this.state.persons.concat(response.data),\n            newName: \"...\",\n            newPhone: \"...\"\n          })\n        })\n    }\n  }\n\n  handleNameChange = (event) => {\n    this.setState({\n      newName: event.target.value\n    })\n  }\n\n  handlePhoneChange = (event) => {\n    this.setState({\n      newPhone: event.target.value\n    })\n  }\n\n  deleteContactOf = (id) => {\n    return () => {\n      const contact = this.state.persons.find(item => item.id === id)\n\n      personsServices\n        .remove(id, contact)\n        .then(response => {\n          this.setState({\n            persons: this.state.persons.filter(item => item.id !== id ? item : response.data)\n          })\n        })\n      // axios\n      //   .delete(url, contact)\n      //   .then(response => {\n      //     this.setState({\n      //       persons: this.state.persons.map(note => note.id !== id ? note : response.data)\n      //     })\n      //   })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Form \n          newName={this.state.newName}\n          newPhone={this.state.newPhone}\n          addContact={this.addContact}\n          handleNameChange={this.handleNameChange}\n          handlePhoneChange={this.handlePhoneChange}\n        />\n        <h2>Numerot</h2>\n        {this.state.persons\n          .map(item =>\n            <Name\n              key={item.name}\n              persons={item}\n              deleteContact={this.deleteContactOf(item.id)}\n            />\n          )\n        }\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// const promise = axios.get(\"http://localhost:3001/persons\");\n\n// promise.then(response => {\n//   console.log(response);\n// })\n\n// axios.get(\"http://localhost:3001/persons\").then(response => {\n//   const persons = response.data;\n   ReactDOM.render(\n    // <App persons={persons}/>,\n    <App />,\n    document.getElementById('root')\n  )\n// });"],"sourceRoot":""}
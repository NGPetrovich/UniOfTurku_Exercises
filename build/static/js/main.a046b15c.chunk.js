(this["webpackJsonpphonebook-front"]=this["webpackJsonpphonebook-front"]||[]).push([[0],{24:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var a=t(2),o=t.n(a),s=t(15),r=t.n(s),c=t(16),i=t(17),h=t(19),u=t(18),d=(t(24),t(0)),l=function(e){var n=e.persons,t=e.deleteContact;return Object(d.jsxs)("li",{className:"ot",children:[n.name," ",n.number,"   ",Object(d.jsx)("button",{onClick:t,children:"delete"})]})},f=function(e){var n=e.addContact,t=e.newName,a=e.newPhone,o=e.handleNameChange,s=e.handlePhoneChange;return Object(d.jsxs)("form",{onSubmit:n,children:[Object(d.jsxs)("div",{children:["name:",Object(d.jsx)("input",{value:t,onChange:o})]}),Object(d.jsxs)("div",{children:["phone number:",Object(d.jsx)("input",{value:a,onChange:s})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"lis\xe4\xe4"})})]})},j=t(5),m=t.n(j),p="/api/persons",b={getAll:function(){return m.a.get(p).then((function(e){return e.data}))},create:function(e){return m.a.post(p,e)},remove:function(e,n){return m.a.delete("".concat(p,"/").concat(e),n).then((function(e){return e.data}))}},v=function(e){Object(h.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).addContact=function(e){if(a.state.persons.some((function(e){return e.name===a.state.newName}))||a.state.persons.some((function(e){return e.phone===a.state.newPhone})))alert("Attention! This name is already in the phonebook!");else{e.preventDefault();var n={name:a.state.newName,phone:a.state.newPhone};b.create(n).then((function(e){a.setState({persons:a.state.persons.concat(e.data),newName:"...",newPhone:"..."})}))}},a.handleNameChange=function(e){a.setState({newName:e.target.value})},a.handlePhoneChange=function(e){a.setState({newPhone:e.target.value})},a.deleteContactOf=function(e){return function(){var n=a.state.persons.find((function(n){return n.id===e}));b.remove(e,n).then((function(n){a.setState({persons:a.state.persons.filter((function(t){return t.id!==e?t:n.data}))})}))}},a.state={persons:[],newName:"...",newPhone:"..."},a}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.getAll().then((function(n){e.setState({persons:n.data})}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Puhelinluettelo"}),Object(d.jsx)(f,{newName:this.state.newName,newPhone:this.state.newPhone,addContact:this.addContact,handleNameChange:this.handleNameChange,handlePhoneChange:this.handlePhoneChange}),Object(d.jsx)("h2",{children:"Numerot"}),this.state.persons.map((function(n){return Object(d.jsx)(l,{persons:n,deleteContact:e.deleteContactOf(n.id)},n.name)}))]})}}]),t}(o.a.Component);r.a.render(Object(d.jsx)(v,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.a046b15c.chunk.js.map